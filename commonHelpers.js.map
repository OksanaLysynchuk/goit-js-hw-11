{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '42752010-70402d91d951665a6458bc92c';\nconst BASE_URI = 'https://pixabay.com/api/';\n\nexport function fetchImages(query) {\n  const LINK = `${BASE_URI}?key=${KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(LINK)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Image error!');\n      }\n      return response.json();\n    })\n    .catch(error => {\n      console.log('Error while fetching images from pixabay!', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport function renderGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  galleryContainer.innerHTML = '';\n\n  const fragment = document.createDocumentFragment();\n\n  images.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    const imgLink = document.createElement('a');\n    imgLink.href = image.largeImageURL;\n    imgLink.classList.add('gallery-item');\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    imgLink.appendChild(img);\n    card.appendChild(imgLink);\n\n    fragment.appendChild(card);\n  });\n\n  galleryContainer.appendChild(fragment);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n  lightbox.refresh();\n}\n\nexport function showLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nexport function hideLoadingIndicator() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}\n\nexport function showErrorToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderGallery,\n  showLoadingIndicator,\n  hideLoadingIndicator,\n  showErrorToast,\n} from './js/render-functions.js';\n\nconst searchForm = document.querySelector('.search-page');\nconst searchInput = document.querySelector('.search-placeholder');\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n  if (!query) {\n    showErrorToast('Please enter a search term');\n    return;\n  }\n\n  showLoadingIndicator();\n\n  fetchImages(query)\n    .then(data => {\n      hideLoadingIndicator();\n      if (data.hits.length === 0) {\n        showErrorToast(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      } else {\n        renderGallery(data.hits);\n      }\n    })\n    .catch(error => {\n      hideLoadingIndicator();\n      showErrorToast('Error while fetching images from pixabay!');\n    });\n}\n"],"names":["KEY","BASE_URI","fetchImages","query","LINK","response","error","renderGallery","images","galleryContainer","fragment","image","card","imgLink","img","SimpleLightbox","showLoadingIndicator","loader","hideLoadingIndicator","showErrorToast","message","iziToast","searchForm","searchInput","handleSearch","event","data"],"mappings":"6vBAAA,MAAMA,EAAM,qCACNC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAO,GAAGH,CAAQ,QAAQD,CAAG,MAAMG,CAAK,2DAE9C,OAAO,MAAMC,CAAI,EACd,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,cAAc,EAEhC,OAAOA,EAAS,MACtB,CAAK,EACA,MAAMC,GAAS,CACd,cAAQ,IAAI,4CAA6CA,CAAK,EACxDA,CACZ,CAAK,CACL,CCZO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAY,GAE7B,MAAMC,EAAW,SAAS,yBAE1BF,EAAO,QAAQG,GAAS,CACtB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAU,SAAS,cAAc,GAAG,EAC1CA,EAAQ,KAAOF,EAAM,cACrBE,EAAQ,UAAU,IAAI,cAAc,EAEpC,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAQ,YAAYC,CAAG,EACvBF,EAAK,YAAYC,CAAO,EAExBH,EAAS,YAAYE,CAAI,CAC7B,CAAG,EAEDH,EAAiB,YAAYC,CAAQ,EAEpB,IAAIK,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAClB,CAAG,EACQ,QAAO,CAClB,CAEO,SAASC,GAAuB,CACrC,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,GAAuB,CACrC,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CAEO,SAASE,EAAeC,EAAS,CACtCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CC5CA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,qBAAqB,EAEhED,EAAW,iBAAiB,SAAUE,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMtB,EAAQoB,EAAY,MAAM,KAAI,EACpC,GAAI,CAACpB,EAAO,CACVgB,EAAe,4BAA4B,EAC3C,MACD,CAEDH,IAEAd,EAAYC,CAAK,EACd,KAAKuB,GAAQ,CACZR,IACIQ,EAAK,KAAK,SAAW,EACvBP,EACE,0EACV,EAEQZ,EAAcmB,EAAK,IAAI,CAE/B,CAAK,EACA,MAAMpB,GAAS,CACdY,IACAC,EAAe,2CAA2C,CAChE,CAAK,CACL"}